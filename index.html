<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Kinvey BaaS</title>
<meta name="author" content="(Martin Apostolov)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/css/theme/night.css" id="theme"/>

<link rel="stylesheet" href="./custom.css"/>

<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = './reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Kinvey BaaS</h1><h2 class="author">Martin Apostolov</h2><p class="date">Created: 2020-11-11 Wed 10:54</p>
</section>

<section>
<section id="slide-org977132a">
<h2 id="org977132a">Overview of Kinvey product</h2>
<div class="outline-text-2" id="text-org977132a">
</div>
</section>
<section id="slide-org0e657f8">
<h3 id="org0e657f8">What is Kinvey</h3>
<p>
Kinvey is a serverless development platform. It provides Backend As a Service which means that developers would not require to build and maintain a backend for their apps. 
</p>

<p>
Key features:
</p>
<ul>
<li>user management</li>
<li>storing data in the cloud</li>
<li>file storage</li>
<li>integration with external data source</li>

</ul>
</section>
<section id="slide-org9ea2c7e">
<h3 id="org9ea2c7e">Kinvey Console</h3>
<p>
Kinvey Console is the web-based GUI that allows you to manage most aspects of your Kinvey backend.
</p>

<p target="_blank">
URL: <a href="https://console.kinvey.com" target="_blank">https://console.kinvey.com</a>
</p>
</section>
<section id="slide-orgdaa08ac">
<h3 id="orgdaa08ac">Kinvey DevCenter</h3>
<p>
Whenever you have questions, you can refer to Kinvey devcenter for detailed documentation of all features.
</p>

<p target="_blank">
URL: <a href="https://devcenter.kinvey.com/" target="_blank">https://devcenter.kinvey.com/</a>
</p>
</section>
</section>
<section>
<section id="slide-org475c11b">
<h2 id="org475c11b">Kinvey Features</h2>
</section>
</section>
<section>
<section id="slide-org335cbee">
<h2 id="org335cbee">Apps &amp; Environments</h2>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Apps</td>
<td class="org-left">A backend app contains all components (data, authentication, server-side logic, etc.). It can be used/connected to multiple frontent apps.</td>
</tr>

<tr>
<td class="org-left">Environments</td>
<td class="org-left">A backend app can have multiple environments to support the development lifecycle: Development, Staging, Production</td>
</tr>
</tbody>
</table>
<p>
<br />
Each environment has a unique ID called KID (Kinvey ID)
<img src="./images/kid.png" alt="kid.png" />
</p>
</section>
</section>
<section>
<section id="slide-orgb4ed6b0">
<h2 id="orgb4ed6b0">REST API</h2>
<p>
 Host: <a href="https://baas.kinvey.com">https://baas.kinvey.com</a> <br />
 All request require authentication <br />
<br />
 <b>Basic</b> Authentication
</p>
<div class="org-src-container">

<pre  class="src src-text"><code trim>Auth string (before encoding in base64): Basic kid_xxx:masterSecret
Auth string (before encoding in base64): Basic kid_xxx:appSecret

Auth string (after base64 encoding): Basic bXlVc2VybmFtZTpteVBhc3N3b3Jk

Authorization: Basic bXlVc2VybmFtZTpteVBhc3N3b3Jk
</code></pre>
</div>
<p>
<br />
  <b>Session</b> Authentication
</p>
<pre  class="example">
Authorization: Kinvey 0a8368d7-cbb8...
</pre>
<p>
<br />
</p>
<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/authentication" target="_blank">https://devcenter.kinvey.com/rest/guides/authentication</a>
</p>
</section>
<section id="slide-org52bb6c8">
<h3 id="org52bb6c8">Testing the REST API</h3>
<p>
You may use Postman to make requests
</p>
<p target="_blank">
<a href="https://www.getpostman.com/" target="_blank">https://www.getpostman.com/</a>
<br />
<br />
Sample Postman requests
</p>
<p target="_blank">
<a href="https://github.com/mkapostolov/KinveyPostmanRequests" target="_blank">https://github.com/mkapostolov/KinveyPostmanRequests</a>
<br />
<br />
You may also use Kinvey Console &rarr; API Console
</p>
</section>
</section>
<section>
<section id="slide-org0ec9cb4">
<h2 id="org0ec9cb4">Users</h2>
<p>
Creating a user
</p>
<pre  class="example">
POST /user/:appKey/
Host: baas.kinvey.com
Authorization: [Basic Auth with app credentials]
Content-Type: application/json

{
 "username": "ivan",
 "password": "123456",
 "city": "Boston"
}
</pre>

<p>
Logging a user
</p>
<pre  class="example">
POST /user/:appKey/login
Host: baas.kinvey.com
Content-Type: application/json
Authorization: [Basic Auth with app credentials]

{
  "username": "ivan",
  "password": "123456"
}
</pre>

<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/users" target="_blank">https://devcenter.kinvey.com/rest/guides/users</a>
</p>
</section>
<section id="slide-org9b0e7fa">
<h3 id="org9b0e7fa">Creating a user in Node.js</h3>
<div class="org-src-container">

<pre  class="src src-js"><code trim><span style="color: #C678DD;">var</span> <span style="color: #E06C75;">request</span> = require<span style="color: #61AFEF;">(</span><span style="color: #98C379;">"request"</span><span style="color: #61AFEF;">)</span>;

<span style="color: #C678DD;">var</span> <span style="color: #E06C75;">options</span> = <span style="color: #61AFEF;">{</span>
  method: <span style="color: #98C379;">"POST"</span>,
  url: <span style="color: #98C379;">"https://baas.kinvey.com/user/kid_HJdVi4iZS"</span>,
  headers: <span style="color: #98C379;">{</span>Authorization: <span style="color: #98C379;">'Basic a2lkX0hKZFZpN....'</span><span style="color: #98C379;">}</span>,
  body: <span style="color: #98C379;">{</span>username: <span style="color: #98C379;">"ivan"</span>, password: <span style="color: #98C379;">"123456"</span>, city: <span style="color: #98C379;">"Boston"</span><span style="color: #98C379;">}</span>,
  json: <span style="color: #56B6C2;">true</span>
<span style="color: #61AFEF;">}</span>;

request<span style="color: #61AFEF;">(</span>options, <span style="color: #C678DD;">function</span><span style="color: #98C379;">(</span><span style="color: #E06C75;">error</span>, <span style="color: #E06C75;">response</span>, <span style="color: #E06C75;">body</span><span style="color: #98C379;">)</span> <span style="color: #98C379;">{</span>
  <span style="color: #C678DD;">if</span> <span style="color: #D19A66;">(</span>error<span style="color: #D19A66;">)</span> <span style="color: #C678DD;">throw</span> <span style="color: #C678DD;">new</span> <span style="color: #E5C07B;">Error</span><span style="color: #D19A66;">(</span>error<span style="color: #D19A66;">)</span>;

  console.log<span style="color: #D19A66;">(</span>body<span style="color: #D19A66;">)</span>;
<span style="color: #98C379;">}</span><span style="color: #61AFEF;">)</span>;
</code></pre>
</div>

</section>
<section id="slide-org1fd39c3">
<h3 id="org1fd39c3">Logging a user in Node.js</h3>
<div class="org-src-container">

<pre  class="src src-js"><code trim><span style="color: #C678DD;">var</span> <span style="color: #E06C75;">request</span> = require<span style="color: #61AFEF;">(</span><span style="color: #98C379;">"request"</span><span style="color: #61AFEF;">)</span>;

<span style="color: #C678DD;">var</span> <span style="color: #E06C75;">options</span> = <span style="color: #61AFEF;">{</span>
  method: <span style="color: #98C379;">"POST"</span>,
  url: <span style="color: #98C379;">"https://baas.kinvey.com/user/kid_HJdVi4iZS/login"</span>,
  headers: <span style="color: #98C379;">{</span>Authorization: <span style="color: #98C379;">'Basic a2lkX0hKZFZpNGlaU...'</span><span style="color: #98C379;">}</span>,
  body: <span style="color: #98C379;">{</span> username: <span style="color: #98C379;">"ivan"</span>, password: <span style="color: #98C379;">"123456"</span> <span style="color: #98C379;">}</span>,
  json: <span style="color: #56B6C2;">true</span>
<span style="color: #61AFEF;">}</span>;

request<span style="color: #61AFEF;">(</span>options, <span style="color: #C678DD;">function</span><span style="color: #98C379;">(</span><span style="color: #E06C75;">error</span>, <span style="color: #E06C75;">response</span>, <span style="color: #E06C75;">body</span><span style="color: #98C379;">)</span> <span style="color: #98C379;">{</span>
  <span style="color: #C678DD;">if</span> <span style="color: #D19A66;">(</span>error<span style="color: #D19A66;">)</span> <span style="color: #C678DD;">throw</span> <span style="color: #C678DD;">new</span> <span style="color: #E5C07B;">Error</span><span style="color: #D19A66;">(</span>error<span style="color: #D19A66;">)</span>;

  console.log<span style="color: #D19A66;">(</span>body<span style="color: #D19A66;">)</span>;
<span style="color: #98C379;">}</span><span style="color: #61AFEF;">)</span>;
</code></pre>
</div>
</section>
<section id="slide-org117f4da">
<h3 id="org117f4da">Important notes</h3>
<ol>
<li>Passing empty body when creating a new user will result in the `username` and `password` being auto-generated.</li>
<li>By default the issued user session tokens do not expire. You can add expiration through <b>Console</b> &rarr; <b>App settings</b> &rarr; <b>User session timeout</b></li>

</ol>
</section>
</section>
<section>
<section id="slide-orgb67a9f1">
<h2 id="orgb67a9f1">Collections</h2>
<p style="text-align:left">
Creating a collection
</p>
<ol>
<li>Through Kinvey Console</li>
<li>Making a POST request to a non-existing collection would create the collection first before adding a file to it</li>

</ol>
</section>
<section id="slide-org60ad834">
<h3 id="org60ad834">CRUD operations</h3>
<p>
Kinvey supports CRUD operations (Create, Read, Update, Delete) by making a requests to the following url for collections: 
</p>
<pre  class="example">
URL: /appdata/:appKey/:collectionName
</pre>

<p>
<br />
</p>
<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/datastore" target="_blank">https://devcenter.kinvey.com/rest/guides/datastore</a>
</p>
</section>
<section id="slide-org9496494">
<h3 id="org9496494">Relational vs. NoSQL database</h3>
<p class="verse">
Kinvey uses MongoDB - a NoSQL db<br />
A NoSQL db stores data as key-value pairs<br />
</p>

<div class="org-src-container">

<pre  class="src src-json"><code trim><span style="color: #61AFEF;">{</span>
  <span style="color: #C678DD;">"_id"</span>: ObjectId<span style="color: #98C379;">(</span><span style="color: #98C379;">"5099803df3f4948bd2f98391"</span><span style="color: #98C379;">)</span>,
  <span style="color: #C678DD;">"name"</span>: <span style="color: #98C379;">{</span> <span style="color: #C678DD;">"first"</span>: <span style="color: #98C379;">"Alan"</span>, <span style="color: #C678DD;">"last"</span>: <span style="color: #98C379;">"Turing"</span> <span style="color: #98C379;">}</span>,
  <span style="color: #C678DD;">"city"</span>: <span style="color: #98C379;">"Boston"</span>,
  <span style="color: #C678DD;">"contribs"</span>: <span style="color: #98C379;">[</span><span style="color: #98C379;">"Turing machine"</span>, <span style="color: #98C379;">"Turing test"</span>, <span style="color: #98C379;">"Turingery"</span><span style="color: #98C379;">]</span>,
  <span style="color: #C678DD;">"views"</span>:<span style="color: #56B6C2;">125</span>
<span style="color: #61AFEF;">}</span>
</code></pre>
</div>

<p class="verse">
NoSQL db has no schema<br />
NoSQL does not require <b>Normalized Data</b><br />
<b>Denormalized data</b> is even preferred<br />
</p>
<p>
<br />
</p>
<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/data-modeling" target="_blank">https://devcenter.kinvey.com/rest/guides/data-modeling</a>
</p>

</section>
<section id="slide-orgc3fe5b1">
<h3 id="orgc3fe5b1">SQL Tables vs. NoSQL Documents</h3>
<div style="font-size: 60%; text-align: left">
<p>
SQL databases are designed to store related data in tables. 
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Id</th>
<th scope="col" class="org-left">Text</th>
<th scope="col" class="org-left">User</th>
<th scope="col" class="org-left">CreatedAt</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-left">It is finally time for graduation! Good job everyone, we made it.</td>
<td class="org-left">Michael</td>
<td class="org-left">Aug 03, 2016, 01:08 PM</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-left">The most amazing sunset I have ever seen at Phuket, Thailand</td>
<td class="org-left">Seth</td>
<td class="org-left">Aug 01, 2016, 01:08 PM</td>
</tr>
</tbody>
</table>

<p>
Every row represents a different post record. The structure of a relational table is fixed - you cannot store fields different from the one that is expected or insert a string where a number is expected.
</p>

<p>
A NoSQL database does not store data in tables - it stores them in collections. In contrast to a relational database table, a collection does not impose fixed rules what information can be stored in it.
</p>

<p>
Each content type combines JSON documents containing field-value pairs.
</p>
<div class="org-src-container">

<pre  class="src src-json"><code trim><span style="color: #61AFEF;">{</span>
  <span style="color: #C678DD;">"Id"</span>: <span style="color: #56B6C2;">0</span>,
  <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"It is finally time for graduation! Good job everyone, we made it."</span>,
  <span style="color: #C678DD;">"Author"</span>: <span style="color: #98C379;">"Michael"</span>,
  <span style="color: #C678DD;">"CreatedAt"</span>: Aug <span style="color: #56B6C2;">03</span>, <span style="color: #56B6C2;">2016</span>, <span style="color: #56B6C2;">01</span>:<span style="color: #56B6C2;">08</span> PM
<span style="color: #61AFEF;">}</span>,<span style="color: #61AFEF;">{</span>
  <span style="color: #C678DD;">"Id"</span>: <span style="color: #56B6C2;">1</span>,
  <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"The most amazing sunset I have ever seen at Phuket, Thailand"</span>,
  <span style="color: #C678DD;">"Author"</span>: <span style="color: #98C379;">"Seth"</span>,
  <span style="color: #C678DD;">"CreatedAt"</span>: Aug <span style="color: #56B6C2;">01</span>, <span style="color: #56B6C2;">2016</span>, <span style="color: #56B6C2;">01</span>:<span style="color: #56B6C2;">08</span> PM,
  <span style="color: #C678DD;">"PictureUrl"</span>: <span style="color: #98C379;">"https://bs3.cdn.amazon.com/v1/1177hpcn4xwrg96b/3c468363-5962-11e6-8a96-9f79bf395ef3"</span>
<span style="color: #61AFEF;">}</span>
</code></pre>
</div>

<p>
Notice the additional field `PictureUrl` present in the second record. In NoSQL databases, the design is flexible - in theory, each record can store disparate data. In practice, because data is entered programmatically, most records tend to hold the same type of data.
</p>
</section>
<section id="slide-org6c791bd">
<h3 id="org6c791bd">Normalized vs. Embedded Data - 1</h3>
<div style="font-size: 60%; text-align: left">
<p>
Assume you want to add other users' comments to the posts in our imaginary social app. If you were using an SQL database, you would create a new table, give it a name like `Comments`, and then create a one-to-many relationship to the `Posts` table (each post can have multiple comments):
</p>

<p>
Table `Comments`
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Id</th>
<th scope="col" class="org-left">Text</th>
<th scope="col" class="org-right">PostId</th>
<th scope="col" class="org-left">User</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-left">Congratulations!</td>
<td class="org-right">0</td>
<td class="org-left">Andy</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-left">It is beautiful.</td>
<td class="org-right">1</td>
<td class="org-left">Seth</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-left">Thanks :)</td>
<td class="org-right">1</td>
<td class="org-left">Michael</td>
</tr>
</tbody>
</table>

<p>
Splitting the data into two tables minimizes data redundancy. You are not repeating the post information for every comment - only the reference to it (`postId`). This technique is known as normalization and provides tangible practical benefits. For example, you could update a single post without ever touching the `Comments` table. Because data is normalized, SQL offers a powerful JOIN clause which helps you retrieve combined information from multiple related tables.
</p>
</section>
<section id="slide-orgd78e899">
<h3 id="orgd78e899">Normalized vs. Embedded Data - 2</h3>
<div style="font-size: 65%; text-align: left">
<p>
In NoSQL, you can also use the normalization technique by splitting related data in different content types and storing a the relation in one of these content types. In the case of our imaginary social app, every post will include an array with all comment IDs.
</p>

<p>
Content type `Posts`
</p>
<div class="org-src-container">

<pre  class="src src-json"><code trim><span style="color: #61AFEF;">{</span>
  <span style="color: #C678DD;">"Id"</span>: <span style="color: #56B6C2;">1</span>,
  <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"The most amazing sunset I have ever seen at Phuket, Thailand"</span>,
  <span style="color: #C678DD;">"Author"</span>: <span style="color: #98C379;">"Seth"</span>,
  <span style="color: #C678DD;">"CreatedAt"</span>: Aug <span style="color: #56B6C2;">01</span>, <span style="color: #56B6C2;">2016</span>, <span style="color: #56B6C2;">01</span>:<span style="color: #56B6C2;">08</span> PM,
  <span style="color: #C678DD;">"PictureUrl"</span>: <span style="color: #98C379;">"https://bs3.cdn.telerik.com/v1/1177hpcn4xwrg96b/3c468363-5962-11e6-8a96-9f79bf395ef3"</span>,
  <span style="color: #C678DD;">"CommentIds"</span>: <span style="color: #98C379;">[</span><span style="color: #56B6C2;">1</span>,<span style="color: #56B6C2;">2</span><span style="color: #98C379;">]</span>
<span style="color: #61AFEF;">}</span>
</code></pre>
</div>

<p>
Content type `Comment`
</p>
<div class="org-src-container">

<pre  class="src src-json"><code trim><span style="color: #61AFEF;">{</span>
  <span style="color: #C678DD;">"Id"</span>: <span style="color: #56B6C2;">1</span>,
  <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"It is beautiful."</span>,
  <span style="color: #C678DD;">"User"</span>: <span style="color: #98C379;">"Seth"</span>
<span style="color: #61AFEF;">}</span>,
<span style="color: #61AFEF;">{</span>
  <span style="color: #C678DD;">"Id"</span>: <span style="color: #56B6C2;">2</span>,
  <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"Thanks :)"</span>,
  <span style="color: #C678DD;">"User"</span>: <span style="color: #98C379;">"Michael"</span>
<span style="color: #61AFEF;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org4ce42b6">
<h3 id="org4ce42b6">Normalized vs. Embedded Data - 3</h3>
<div style="font-size: 65%; text-align: left">
<p>
Of course, as comments start piling up, the array may not be the most practical solution because it can get huge. Instead, each Comment can hold a reference to the post it relates to.
</p>

<p>
Content type `Activity`
</p>
<div class="org-src-container">

<pre  class="src src-json"><code trim><span style="color: #61AFEF;">{</span>
  <span style="color: #C678DD;">"Id"</span>: <span style="color: #56B6C2;">1</span>,
  <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"The most amazing sunset I have ever seen at Phuket, Thailand"</span>,
  <span style="color: #C678DD;">"Author"</span>: <span style="color: #98C379;">"Seth"</span>,
  <span style="color: #C678DD;">"CreatedAt"</span>: Aug <span style="color: #56B6C2;">01</span>, <span style="color: #56B6C2;">2016</span>, <span style="color: #56B6C2;">01</span>:<span style="color: #56B6C2;">08</span> PM,
  <span style="color: #C678DD;">"PictureUrl"</span>: <span style="color: #98C379;">"https://bs3.cdn.amazon.com/v1/1177hpcn4xwrg96b/3c468363-5962-11e6-8a96-9f79bf395ef3"</span>,
<span style="color: #61AFEF;">}</span>
</code></pre>
</div>

<p>
Content type `Comment`
</p>
<div class="org-src-container">

<pre  class="src src-json"><code trim><span style="color: #61AFEF;">{</span>
  <span style="color: #C678DD;">"Id"</span>: <span style="color: #56B6C2;">1</span>,
  <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"It is beautiful."</span>,
  <span style="color: #C678DD;">"PostId"</span>: <span style="color: #56B6C2;">1</span>,
  <span style="color: #C678DD;">"User"</span>: <span style="color: #98C379;">"Seth"</span>
<span style="color: #61AFEF;">}</span>,
<span style="color: #61AFEF;">{</span>
  <span style="color: #C678DD;">"Id"</span>: <span style="color: #56B6C2;">2</span>,
  <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"Thanks :)"</span>,
  <span style="color: #C678DD;">"PostId"</span>: <span style="color: #56B6C2;">1</span>,
  <span style="color: #C678DD;">"User"</span>: <span style="color: #98C379;">"Michael"</span>
<span style="color: #61AFEF;">}</span>
</code></pre>
</div>

<p>
There is no wrong or right way - either approach works if it meets your needs and each has its merits. With the first approach, you risk slower data querying because the `CommentIds` array can become very big if your app receives thousands of comments. On the other hand, having this array allows you to very quickly calculate the number of comments to a post and display it. With the second approach, you get faster queries but slower comments data aggregation.
</p>

</section>
<section id="slide-orgb5b5aa0">
<h3 id="orgb5b5aa0">Normalized vs. Embedded Data - 4</h3>
<div style="font-size: 65%; text-align: left">
<p>
So does that mean that using references between content types you can fully mimic SQL in NoSQL? Not quite - here are the major differences:
</p>
<ul>
<li><b><b>No JOIN clause</b></b> - Remember the powerful SQL JOIN clause? Well <b>NoSQL has no equivalent of JOIN</b>. Instead, you save the `Id` field of one document in another as a relation. Then the database should run a second query to return the related data. This mimics the result of a JOIN clause at the expense of multiple roundtrips to the database (decrease in performance).</li>
<li><b><b>No transactions</b></b> - The definition of a transaction is the propagation of one or more changes to the database. With transactions you ensure that data in related tables is updated all at once - either all changes are applied or none - allowing for data in different tables to stay in sync. NoSQL does not support transactions. So if you want to delete an activity from the Activity content type, you have to delete both the Activity record and the records for Comments referencing this activity. These are two delete operations and if one fails, then you end up with inconsistent data. Therefore, when using relations, an experienced developer should devise a plan to overcome data inconsistency.</li>

</ul>

</section>
<section id="slide-org70a1115">
<h3 id="org70a1115">Normalized vs. Embedded Data - 5</h3>
<div style="font-size: 65%; text-align: left">
<p>
Based on the above, using normalization in NoSQL is not as practical as in a relational database. A better approach would be to embed the comment's data inside each activity it refers to:
</p>

<div class="org-src-container">

<pre  class="src src-json"><code trim><span style="color: #61AFEF;">{</span>
  <span style="color: #C678DD;">"Id"</span>: <span style="color: #56B6C2;">1</span>,
  <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"The most amazing sunset I have ever seen at Phuket, Thailand"</span>,
  <span style="color: #C678DD;">"Author"</span>: <span style="color: #98C379;">"Seth"</span>,
  <span style="color: #C678DD;">"CreatedAt"</span>: Aug <span style="color: #56B6C2;">01</span>, <span style="color: #56B6C2;">2016</span>, <span style="color: #56B6C2;">01</span>:<span style="color: #56B6C2;">08</span> PM,
  <span style="color: #C678DD;">"PictureUrl"</span>: <span style="color: #98C379;">"https://bs3.cdn.amazon.com/v1/1177hpcn4xwrg96b/3c468363-5962-11e6-8a96-9f79bf395ef3"</span>,
  <span style="color: #C678DD;">"Comment"</span>: <span style="color: #98C379;">[</span><span style="color: #D19A66;">{</span>
      <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"It is beautiful."</span>,
      <span style="color: #C678DD;">"ActivityId"</span>: <span style="color: #56B6C2;">1</span>,
      <span style="color: #C678DD;">"User"</span>: <span style="color: #98C379;">"Seth"</span>
    <span style="color: #D19A66;">}</span>,
    <span style="color: #D19A66;">{</span>
      <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"Thanks :)"</span>,
      <span style="color: #C678DD;">"ActivityId"</span>: <span style="color: #56B6C2;">1</span>,
      <span style="color: #C678DD;">"User"</span>: <span style="color: #98C379;">"Michael"</span>
    <span style="color: #D19A66;">}</span><span style="color: #98C379;">]</span>
<span style="color: #61AFEF;">}</span>
</code></pre>
</div>

<p>
This embedded data approach has the following benefits:
</p>
<ul>
<li>Improved performance when querying the database - no multiple trips to the database are necessary to combine the data from different content types.</li>
<li>All data is updated at once, decreasing the danger of having data inconsistency.</li>

</ul>

</section>
<section id="slide-org834d79a">
<h3 id="org834d79a">Embedded Data Models in NoSQL</h3>
<div style="font-size: 65%; text-align: left">
<p>
In embedded documents, such as the one above, the relationships between data are stored in a single document structure. The data is denormalized as information can be repeated. Such data model structure allow applications to retrieve and manipulate related data in a single database operation which decreases the number of queries and updates to complete common operations.
</p>

<p>
In general, the embedded data model is preferred when you have one-to-one and one-to-many relationships between data entities where "many" is a fairly limited number. In a true one-to-many case where "many" stands for thousands or even millions, it makes more sense even in NoSQL to store the data in separate content types.
</p>

<p>
In most cases, embedding provides better performance for Read operations by retrieving data in a single database operation. This also solves the problem with data inconsistency as related data is stored in one Content Type, not in different collections.
</p>

</section>
<section id="slide-orgaa84220">
<h3 id="orgaa84220">Normalized Data Models in NoSQL</h3>
<div style="font-size: 65%; text-align: left">
<p>
As mentioned above, a normalized data model makes sense even in NoSQL in some cases. Normalized data is useful when:
</p>
<ul>
<li>The data duplication that the embedding results in does not provide sufficient read performance advantages.</li>
<li>You want to represent more complex many-to-many relationships. In many-to-many cases, it is generally preferred to use separate content types. Consider Movies and Actors: each movie can feature multiple actors and each actor can star in multiple movies. Even though using embedded data in this case is technically possible, it would require updates to multiple records.</li>
<li>You want to model large hierarchical data sets.</li>

</ul>

<p>
In Kinvey, you create relationships by storing only the "<b>id</b>" of a document from the related content type instead of the whole document. You then can use that id to make a query to the additional collection and combine the results. 
</p>
</section>
<section id="slide-org375b5bf">
<h3 id="org375b5bf">Forum Posts Example - 1</h3>
<div style="font-size: 65%; text-align: left">
<p>
Here is a real-life example of a database schema in NoSQL database. Assume we want to create the social app discussed above. It will allow users to create posts and each post will collect comments and likes from other users. How will its database schema look like in Kinvey?
</p>

<p>
We store all posts as separate documents in a content type. Each document stores the content of the post itself, relations to data in other content types and embeds auxiliary data.
</p>

<p>
`Posts`
</p>
<div class="org-src-container">

<pre  class="src src-json"><code trim><span style="color: #61AFEF;">{</span>
    <span style="color: #C678DD;">"Id"</span>: <span style="color: #98C379;">"989454cc-0363-4643-8fdb-dc0a4d6da024"</span>,
    <span style="color: #C678DD;">"Text"</span>: <span style="color: #98C379;">"Once Upon a Time in the West"</span>,
    <span style="color: #C678DD;">"Likes"</span>: <span style="color: #98C379;">[</span><span style="color: #98C379;">"7a84a930-6a93-11e6-85cf-3d7d6a0b81e8"</span>, <span style="color: #98C379;">"4038ff00-6a94-11e6-a331-13ed018c3f91"</span><span style="color: #98C379;">]</span>,
    <span style="color: #C678DD;">"LatestLikes"</span>: <span style="color: #98C379;">[</span><span style="color: #D19A66;">{</span>
        <span style="color: #C678DD;">"UserId"</span>: <span style="color: #98C379;">"4038ff00-6a94-11e6-a331-13ed018c3f91"</span>,
        <span style="color: #C678DD;">"UserName"</span>: <span style="color: #98C379;">"Michael"</span>
    <span style="color: #D19A66;">}</span>, <span style="color: #D19A66;">{</span>
        <span style="color: #C678DD;">"UserId"</span>: <span style="color: #98C379;">"63fed5b0-6a97-11e6-af7d-0b7cc9815142"</span>,
        <span style="color: #C678DD;">"UserName"</span>: <span style="color: #98C379;">"Seth"</span>
    <span style="color: #D19A66;">}</span><span style="color: #98C379;">]</span>,
    <span style="color: #C678DD;">"LatestComments"</span>: <span style="color: #98C379;">[</span><span style="color: #D19A66;">{</span>
        <span style="color: #C678DD;">"Comment"</span>: <span style="color: #98C379;">"Congratulations!"</span>,
        <span style="color: #C678DD;">"ActivityId"</span>: <span style="color: #98C379;">"171500b8-d6e7-11e5-b3f8-25ad4818bcd4"</span>,
        <span style="color: #C678DD;">"UserId"</span>: <span style="color: #98C379;">"171500b4-d6e7-11e5-b3f8-25ad4818bcd4"</span>,
        <span style="color: #C678DD;">"Id"</span>: <span style="color: #98C379;">"18b6c9d0-d6e7-11e5-b3f8-25ad4818bcd4"</span>,
    <span style="color: #D19A66;">}</span>, <span style="color: #D19A66;">{</span>
        <span style="color: #C678DD;">"Comment"</span>: <span style="color: #98C379;">"It is beautiful."</span>,
        <span style="color: #C678DD;">"ActivityId"</span>: <span style="color: #98C379;">"171500b9-d6e7-11e5-b3f8-25ad4818bcd4"</span>,
        <span style="color: #C678DD;">"UserId"</span>: <span style="color: #98C379;">"171500b7-d6e7-11e5-b3f8-25ad4818bcd4"</span>,
        <span style="color: #C678DD;">"Id"</span>: <span style="color: #98C379;">"18b6c9d2-d6e7-11e5-b3f8-25ad4818bcd4"</span>,
    <span style="color: #D19A66;">}</span><span style="color: #98C379;">]</span>,
    <span style="color: #C678DD;">"NumberOfComments"</span>: <span style="color: #56B6C2;">10</span>
<span style="color: #61AFEF;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org7980a1a">
<h3 id="org7980a1a">Forum Posts Example - 2</h3>
<div style="font-size: 65%; text-align: left">
<p>
For example, we could pull out the information that `NumberOfComments` provides by running a count query, but embedding it here allows for a much speedier read.
</p>

<p>
The `Likes` field actually stores relations to our `Users` content type (not portrayed here because of space restraints).
</p>

<p>
`LatestLikes` holds information about the last users who liked the post. This helps us display the following aggregated information on the main page: "Michael and 3 others like this post". When the viewer clicks to see who else liked the post, we could create a separate request where we expand on the `userId`s who liked this specific post. Reading the data would create multiple internal queries, but because we only read one post, the response from the database would be very quick.
</p>

<p>
`LatestComments` serves a similar purpose but for comments.
</p>

</section>
<section id="slide-org9c7b487">
<h3 id="org9c7b487">Forum Posts Example - 3</h3>
<div style="font-size: 65%; text-align: left">
<p>
We store comments in a separate content type. Each comment holds a relation (`Id`) to a document in the `Posts` content type. Because a post can receive multiple comments, multiple documents can store the `Id` of a single post.
</p>

<p>
Content type `Comments`
</p>
<div class="org-src-container">

<pre  class="src src-json"><code trim><span style="color: #61AFEF;">{</span>
    <span style="color: #C678DD;">"Comment"</span>: <span style="color: #98C379;">"Congratulations!"</span>,
    <span style="color: #C678DD;">"PostId"</span>: <span style="color: #98C379;">"171500b8-d6e7-11e5-b3f8-25ad4818bcd4"</span>,
    <span style="color: #C678DD;">"UserId"</span>: <span style="color: #98C379;">"171500b4-d6e7-11e5-b3f8-25ad4818bcd4"</span>,
    <span style="color: #C678DD;">"CreatedBy"</span>: <span style="color: #98C379;">"171500b4-d6e7-11e5-b3f8-25ad4818bcd4"</span>,
    <span style="color: #C678DD;">"Owner"</span>: <span style="color: #98C379;">"171500b4-d6e7-11e5-b3f8-25ad4818bcd4"</span>,
    <span style="color: #C678DD;">"CreatedAt"</span>: <span style="color: #98C379;">"2016-02-19T08:59:34.509Z"</span>,
    <span style="color: #C678DD;">"ModifiedAt"</span>: <span style="color: #98C379;">"2016-02-19T08:59:34.509Z"</span>,
    <span style="color: #C678DD;">"ModifiedBy"</span>: <span style="color: #98C379;">"00000000-0000-0000-0000-000000000000"</span>,
    <span style="color: #C678DD;">"Id"</span>: <span style="color: #98C379;">"18b6c9d0-d6e7-11e5-b3f8-25ad4818bcd4"</span>
<span style="color: #61AFEF;">}</span>
</code></pre>
</div>

</section>
<section id="slide-orge12c5f7">
<h3 id="orge12c5f7">Forum Posts Example - 4</h3>
<div style="font-size: 65%; text-align: left">
<p>
You can see that we use a hybrid schema design: some data is normalized and some data is embedded. This allows us to:
</p>
<ul>
<li><p>
Optimize the schema for the most frequent use cases:
</p>
<ul>
<li>The main view of the application will list information about the selected post, the latest likes and the total number of likes, the latest comments and the total number of comments. The proposed schema design allows us to load the screen using a query to a single content type.</li>
<li>Links will allow the user to tap to view all likes and all comments. The additional request that we need to make to pull out this information targets a single `postId` which results in optimal performance.</li>

</ul>
<ul>
<li>Control the size of the document. There could be hundreds or thousands of comments, which could make a single post document needlessly huge if we chose to embed them.</li>

</ul></li>

</ul>
</section>
</section>
<section>
<section id="slide-org68e8d7d">
<h2 id="org68e8d7d">Files</h2>
<p>
Kinvey stores files in a third-party service <br />
(Google Cloud Storage) <br />
<br />
Uploading is a two-step process:
</p>
<ol>
<li>Upload file metadata to Kinvey</li>
<li>Upload file data to GCS</li>

</ol>
<p>
<br />
<br />
</p>
<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/files" target="_blank">https://devcenter.kinvey.com/rest/guides/files</a>
</p>
</section>
<section id="slide-orgd4e43a2">
<h3 id="orgd4e43a2">Important notes when uploading</h3>
<ol>
<li>File content type - set "X-Kinvey-Content-Type" header if you want to set the content type to GCS</li>
<li>Public files - when <b>public: true</b>, in the request's response you will receive <b>_requiredHeaders</b> - include them in the second request</li>
<li>Private files - when <b>public: false</b>, _requiredHeaders is empty</li>

</ol>
</section>
<section id="slide-org15fb990">
<h3 id="org15fb990">Sample request</h3>
<p>
<b>Upload file metadata</b>
</p>
<pre  class="example">
      POST /blob/:appKey HTTP/1.1
      Content-Type: application/json
      X-Kinvey-Content-Type: image/png
      Authorization: [user credentials]
   ​
     {
        "_filename": "some-file-name",
        "_public": true
     }
</pre>

<p>
<b>Upload file data</b>
</p>
<pre  class="example">
      PUT _uploadURL
      Content-Type: image/png
      _requiredHeaders // ONLY if received by previous call
   ​
      Body:
      binary file here
</pre>
</section>
<section id="slide-org66b22c9">
<h3 id="org66b22c9">Dowloading files</h3>
<p style="text-align:left">
Downloading from Kinvey is again a two-step process.  
</p>
<ol>
<li><p>
A GET request to Kinvey in order to retrieve the Google Cloud Storage URL associated with your file
</p>
<pre  class="example">
GET /blob/:appKey/:fileId HTTP/1.1
Host: baas.kinvey.com
Authorization: [user credentials] 
</pre></li>
<li>A request to the received <b>_downloadURL</b></li>

</ol>
</section>
</section>
<section>
<section id="slide-orgac6190b">
<h2 id="orgac6190b">Services</h2>
<p>
Services are objects that can be shared between <br />
Environments in an App <br />
or Apps in an Organisation
<br />
<br />
</p>
<ul>
<li><b>Mobile Identity Connect</b> (MIC) - add authentication with existing enterprise identity providers and single sign-on solutions</li>
<li><b>Flex</b> - lightweight Node.js microservices for server-side code</li>
<li><b>RAPID</b> - connect to existing enterprise external data - relational db or external REST API</li>

</ul>
</section>
</section>
<section>
<section id="slide-org5b81d05">
<h2 id="org5b81d05">Server-side Code</h2>
<p>
Server-side code is mainly used to create logic that is executed as a <b>collection hook</b> (before or after a request to a collection is made) or to a <b>custom endpoint</b> - a logic that has its own endpiont to be called and be executed.
<img src="./images/kinvey_request.png" alt="kinvey_request.png" /> 
</p>

<ul>
<li>Business Logic - server-side logic right inside Kinvey Console. Still, Flex is preferred</li>
<li>Flex - Node.js micro-service</li>
<li>Scheduled code - execute custom endpoint on set intervals</li>

</ul>
</section>
</section>
<section>
<section id="slide-org8d0e4b4">
<h2 id="org8d0e4b4">Flex</h2>
<p>
Kinvey Flex is a more feature-rich and flexible way to write server-side code for your apps compared to Business Logic. <br />
Flex has three flavors: data integration services, authentication services, and general-purpose functions.
</p>

<p>
<br />
Prerequisites:  
</p>
<ol>
<li>install NPM (Node Package Manager)</li>
<li>install Kinvey CLI - <a href="https://github.com/Kinvey/kinvey-cli">https://github.com/Kinvey/kinvey-cli</a></li>

</ol>

<p>
<br />
</p>
<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/flexservice-runtime" target="_blank">https://devcenter.kinvey.com/rest/guides/flexservice-runtime</a>
</p>
</section>
<section id="slide-org98af669">
<h3 id="org98af669">Create Flex Service in Kinvey Console</h3>
<p>
Before you can deploy your Node.js project, you need to provision a Flex service using the Kinvey Console.
<br />
<br />
</p>
<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/flexservice-runtime#creating-an-internal-flex-service" target="_blank">https://devcenter.kinvey.com/rest/guides/flexservice-runtime#creating-an-internal-flex-service</a>
</p>
</section>
<section id="slide-orgfcda111">
<h3 id="orgfcda111">Initialize a Node.js project</h3>
<div class="org-src-container">

<pre  class="src src-shell"><code trim>mkdir <span style="color: #98C379;">'myProject'</span>
<span style="color: #56B6C2;">cd</span> <span style="color: #98C379;">'myProject'</span>
npm init
npm install kinvey-flex-sdk
touch index.js
</code></pre>
</div>
</section>
<section id="slide-orgb65036a">
<h3 id="orgb65036a">Initialize the Flex SDK inside index.js</h3>
<div style="font-size: 80%;">
<div class="org-src-container">

<pre  class="src src-js"><code trim><span style="color: #C678DD;">const</span> <span style="color: #E06C75;">sdk</span> = require<span style="color: #61AFEF;">(</span><span style="color: #98C379;">"kinvey-flex-sdk"</span><span style="color: #61AFEF;">)</span>;

sdk.service<span style="color: #61AFEF;">(</span><span style="color: #98C379;">{}</span>, <span style="color: #C678DD;">function</span><span style="color: #98C379;">(</span><span style="color: #E06C75;">err</span>, <span style="color: #E06C75;">flex</span><span style="color: #98C379;">)</span> <span style="color: #98C379;">{</span>
  <span style="color: #C678DD;">if</span> <span style="color: #D19A66;">(</span>err<span style="color: #D19A66;">)</span> <span style="color: #D19A66;">{</span>
    console.log<span style="color: #56B6C2;">(</span>err<span style="color: #56B6C2;">)</span>;
  <span style="color: #D19A66;">}</span>

  console.log<span style="color: #D19A66;">(</span><span style="color: #98C379;">`===&gt; Flex Service started (SDK v${flex.version})`</span><span style="color: #D19A66;">)</span>;

  <span style="color: #5C6370; font-style: italic;">// </span><span style="color: #5C6370; font-style: italic;">Define a function to execute</span>
  <span style="color: #C678DD;">function</span> <span style="color: #61AFEF;">logTime</span><span style="color: #D19A66;">(</span><span style="color: #E06C75;">context</span>, <span style="color: #E06C75;">complete</span>, <span style="color: #E06C75;">modules</span><span style="color: #D19A66;">)</span> <span style="color: #D19A66;">{</span>
    console.log<span style="color: #56B6C2;">(</span><span style="color: #C678DD;">new</span> <span style="color: #E5C07B;">Date</span><span style="color: #C678DD;">()</span><span style="color: #56B6C2;">)</span>;
    complete<span style="color: #56B6C2;">()</span>
      .ok<span style="color: #56B6C2;">()</span>
      .done<span style="color: #56B6C2;">()</span>;
  <span style="color: #D19A66;">}</span>
  <span style="color: #5C6370; font-style: italic;">// </span><span style="color: #5C6370; font-style: italic;">Register the logTime function as a Flex function</span>
  flex.functions.register<span style="color: #D19A66;">(</span><span style="color: #98C379;">"logTime"</span>, logTime<span style="color: #D19A66;">)</span>;
<span style="color: #98C379;">}</span><span style="color: #61AFEF;">)</span>;
</code></pre>
</div>
</section>
<section id="slide-org4c7d94f">
<h3 id="org4c7d94f">Configure Kinvey CLI for deploy</h3>
<p>
Configure Kinvey CLI so that it can access Kinvey Console with your credentials
</p>
<div class="org-src-container">

<pre  class="src src-shell"><code trim>$ kinvey init
? E-mail john.doe@kinvey.com
? Password ***********
? Instance ID <span style="color: #61AFEF;">(</span>optional<span style="color: #61AFEF;">)</span>
? Profile name dev
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-shell"><code trim><span style="color: #56B6C2;">cd</span> &lt;node.js project dir&gt;
kinvey flex init
</code></pre>
</div>
</section>
<section id="slide-orga8c301a">
<h3 id="orga8c301a">Deploy to Kinvey</h3>
<div class="org-src-container">

<pre  class="src src-shell"><code trim><span style="color: #56B6C2;">cd</span> &lt;node.js project dir&gt;
kinvey flex deploy

<span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">check the status of the service/deploy</span>
kinvey flex status

<span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">check service logs</span>
kinvey flex logs
</code></pre>
</div>

<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/flexservice-runtime#ManagingTroubleshootingandTerminatingServices" target="_blank">https://devcenter.kinvey.com/rest/guides/flexservice-runtime#ManagingTroubleshootingandTerminatingServices</a>
</p>
</section>
<section id="slide-orgda5315a">
<h3 id="orgda5315a">Check deployed service</h3>
<p style="text-align:left">
Go to 
</p>
<pre  class="example">
Kinvey Console -&gt; Services -&gt; your-flex-service -&gt; Service Objects
</pre>
<p style="text-align:left">
You should be able to see the registered Flex functions (logTime in our case)
</p>

<p>
<br />
</p>
<p style="text-align:left">
Go to 
</p>
<pre  class="example">
Kinvey Console -&gt; your-app -&gt; Custom Endpoint 
</pre>
<p style="text-align:left">
Create a new endpoint and choose <b>Microservice</b> and then your Flex service and flex function.
</p>

<p>
<br />
</p>
<p style="text-align:left">
Make a request to:
</p>
<pre  class="example">
POST /rpc/:kid/custom/your-custom-endpoint
</pre>
</section>
<section id="slide-orgb8f2526">
<h3 id="orgb8f2526">Flex Sample project</h3>
<p target="_blank">
<a href="https://github.com/mkapostolov/KinveyFlexSample" target="_blank">https://github.com/mkapostolov/KinveyFlexSample</a>
</p>
</section>
</section>
<section>
<section id="slide-org5f236ca">
<h2 id="org5f236ca">Security</h2>
<p height="80%," width="80%">
<img src="./images/permissions.png" alt="permissions.png" height="80%," width="80%" />
<br />
</p>
<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/security" target="_blank">https://devcenter.kinvey.com/rest/guides/security</a>
</p>
</section>
<section id="slide-orgfe2268e">
<h3 id="orgfe2268e">Permission example</h3>
<p>
A user can be assigned different roles with different collection permissions
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Role</th>
<th scope="col" class="org-left">Scenario 1</th>
<th scope="col" class="org-left">Scenario 2</th>
<th scope="col" class="org-left">Scenario 3</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Role 1</td>
<td class="org-left">Always</td>
<td class="org-left">Grant</td>
<td class="org-left">Grant</td>
</tr>

<tr>
<td class="org-left">Role 2</td>
<td class="org-left">Grant</td>
<td class="org-left">Always</td>
<td class="org-left">Entity</td>
</tr>

<tr>
<td class="org-left">Role 3</td>
<td class="org-left">Entity</td>
<td class="org-left">Never</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Wins</td>
<td class="org-left"><b>Always</b></td>
<td class="org-left"><b>Never</b></td>
<td class="org-left"><b>Grant</b></td>
</tr>

<tr>
<td class="org-left">Explanation</td>
<td class="org-left">most permissive</td>
<td class="org-left">Never always wins</td>
<td class="org-left">most permissive</td>
</tr>
</tbody>
</table>

<p>
<b>Never</b> always takes precedence over any other access type <br />
Most <b>permissive</b> role wins in all other cases
</p>

</section>
<section id="slide-orgc062d6c">
<h3 id="orgc062d6c">Permission example</h3>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Role</th>
<th scope="col" class="org-left">Create</th>
<th scope="col" class="org-left">Read</th>
<th scope="col" class="org-left">Update</th>
<th scope="col" class="org-left">Delete</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">BillingDept</td>
<td class="org-left">Always</td>
<td class="org-left">Always</td>
<td class="org-left">Always</td>
<td class="org-left">Always</td>
</tr>

<tr>
<td class="org-left">Intern</td>
<td class="org-left">Never</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Never</td>
</tr>

<tr>
<td class="org-left">Customer</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Entity</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
<br />
</p>
<ul>
<li>Alice (BillingDept) - all CRUD operations</li>
<li>John (BillingDept &amp; Intern) - can only Read and Update items</li>
<li>Bob (Customer) - can only Read the items he has created (or items that have Entity permissions that specifically allow him to view them). He cannot create/modify any items. Not set is an implicit <b>Never</b></li>

</ul>
</section>
</section>
<section>
<section id="slide-orge51389c">
<h2 id="orge51389c">Mobile Identity Connect</h2>
<p>
MIC Architecture <br />
<img src="./images/mic-core-architecture.png" alt="mic-core-architecture.png" />
</p>
<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/mobile-identity-connect" target="_blank">https://devcenter.kinvey.com/rest/guides/mobile-identity-connect</a>
</p>
</section>
<section id="slide-orgc354a7b">
<h3 id="orgc354a7b">Common MIC Setup</h3>
<p>
<a href="https://support.kinvey.com/support/solutions/articles/12000038138-mic-setup-for-common-authentication-sources">https://support.kinvey.com/support/solutions/articles/12000038138-mic-setup-for-common-authentication-sources</a>
</p>
</section>
</section>
<section>
<section id="slide-org398c159">
<h2 id="org398c159">RAPID</h2>
<p>
With RAPID you can connect external data source with Kinvey Collection
</p>

<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/rest/guides/rapid-data" target="_blank">https://devcenter.kinvey.com/rest/guides/rapid-data</a>
</p>
</section>
</section>
<section>
<section id="slide-orgea1585e">
<h2 id="orgea1585e">SDK</h2>
<p>
JavaScript SDK
</p>
<p target="_blank">
Download - <a href="https://devcenter.kinvey.com/html5/downloads" target="_blank">https://devcenter.kinvey.com/html5/downloads</a>
</p>
<p target="_blank">
CDN - <a href="https://da189i1jfloii.cloudfront.net/js/kinvey-html5-sdk-4.2.3.min.js" target="_blank">https://da189i1jfloii.cloudfront.net/js/kinvey-html5-sdk-4.2.3.min.js</a>
</p>
<p target="_blank">
Docs - <a href="https://devcenter.kinvey.com/html5/guides/getting-started" target="_blank">https://devcenter.kinvey.com/html5/guides/getting-started</a> 
</p>
</section>
</section>
</div>
</div>
<script src="./reveal.js/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
width:1200, height:800, margin: 0.2, minScale:0.2, maxScale:3.5, hash:true, history:true, controlsTutorial:true,
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: './reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: './reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: './reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: './reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: './reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
